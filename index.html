<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Deutsch interaktiv | Genially Code Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --p: #6C5CE7; --a: #FD79A8; --dark: #2D3436; --bg: #f8f9fa; }
        body { font-family: 'Montserrat', sans-serif; background: var(--bg); margin: 0; padding: 0; }
        
        .admin-panel { max-width: 1000px; margin: 30px auto; background: white; border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); overflow: hidden; border: 1px solid #eee; }
        .p-40 { padding: 40px; }
        
        /* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∫–µ—Ç—ã */
        .step { margin-bottom: 40px; padding-bottom: 30px; border-bottom: 1px solid #eee; }
        .step-title { display: flex; align-items: center; gap: 15px; margin-bottom: 25px; }
        .step-num { background: var(--p); color: white; width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 50%; font-weight: 900; }
        
        h2 { margin: 0; font-size: 1.2rem; text-transform: uppercase; color: var(--dark); }
        label { display: block; font-size: 0.8rem; font-weight: 800; color: #777; margin-bottom: 10px; text-transform: uppercase; }
        
        input, select, textarea { width: 100%; padding: 15px; border-radius: 15px; border: 2px solid #e0e0e0; font-family: inherit; font-size: 1rem; margin-bottom: 20px; box-sizing: border-box; }
        .grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; }

        /* –ö–Ω–æ–ø–∫–∏ */
        .gen-box { background: var(--dark); padding: 40px; text-align: center; color: white; }
        .btn-gen { background: var(--a); color: white; border: none; padding: 20px 50px; border-radius: 20px; font-weight: 900; font-size: 1.1rem; cursor: pointer; transition: 0.3s; }
        .btn-gen:hover { transform: scale(1.05); box-shadow: 0 10px 30px rgba(253, 121, 168, 0.4); }

        /* –û–∫–Ω–æ —Å –∫–æ–¥–æ–º */
        #output-zone { display: none; margin-top: 30px; }
        #code-res { background: #1e1e1e; color: #7cfc00; padding: 25px; border-radius: 15px; font-family: monospace; white-space: pre-wrap; word-break: break-all; font-size: 0.9rem; border: 2px solid #333; height: 250px; overflow-y: auto; }
        
        .cat-card { background: #fdfdfd; border: 2px solid #f0f0f0; padding: 20px; border-radius: 20px; }
    </style>
</head>
<body>

<div class="admin-panel">
    <div style="background: var(--p); padding: 30px; color: white; display: flex; align-items: center; gap: 20px;">
        <img src="https://raw.githubusercontent.com/irinschensmagen-alt/Redaktor-/main/logo.png" width="70">
        <div>
            <h1 style="margin:0; font-size:1.5rem;">GENIALLY CODE BUILDER</h1>
            <p style="margin:0; opacity: 0.8;">–°–æ–∑–¥–∞–π—Ç–µ –∏–≥—Ä—É –∏ –ø–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏</p>
        </div>
    </div>

    <div class="p-40">
        <div class="step">
            <div class="step-title"><div class="step-num">1</div><h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–≤–Ω—è</h2></div>
            <div class="grid">
                <div>
                    <label>–°–ª–æ–∂–Ω–æ—Å—Ç—å</label>
                    <select id="lvl">
                        <option value="easy">ü¶ã –ë–∞–±–æ—á–∫–∞ (–õ–µ–≥–∫–∏–π)</option>
                        <option value="medium">üå∏ –ì–µ–æ—Ä–≥–∏–Ω–∞ (–°—Ä–µ–¥–Ω–∏–π)</option>
                        <option value="hard">üè† –î–æ–º (–°–ª–æ–∂–Ω—ã–π)</option>
                    </select>
                </div>
                <div>
                    <label>–Ø–∑—ã–∫</label>
                    <select id="lang">
                        <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                        <option value="de">Deutsch</option>
                    </select>
                </div>
                <div>
                    <label>–ñ–∏–∑–Ω–∏</label>
                    <input type="number" id="lives" value="3">
                </div>
            </div>
        </div>

        <div class="step">
            <div class="step-title"><div class="step-num">2</div><h2>–ö–æ–Ω—Ç–µ–Ω—Ç (–ê—Ä—Ç–∏–∫–ª–∏ –∏ —Å–ª–æ–≤–∞)</h2></div>
            <div class="grid" id="categories">
                <div class="cat-card">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è 1</label>
                    <input type="text" id="c1-n" value="Der">
                    <input type="color" id="c1-c" value="#74b9ff">
                    <textarea id="c1-w" placeholder="–°–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é...">Apfel, Tisch, Tag</textarea>
                </div>
                <div class="cat-card">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è 2</label>
                    <input type="text" id="c2-n" value="Die">
                    <input type="color" id="c2-c" value="#ff7675">
                    <textarea id="c2-w" placeholder="–°–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é...">Lampe, Nacht, Frau</textarea>
                </div>
                <div class="cat-card">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è 3</label>
                    <input type="text" id="c3-n" value="Das">
                    <input type="color" id="c3-c" value="#55efc4">
                    <textarea id="c3-w" placeholder="–°–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é...">Haus, Kind, Buch</textarea>
                </div>
            </div>
        </div>

        <div class="gen-box">
            <button class="btn-gen" onclick="buildGameCode()">–°–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –ö–û–î –î–õ–Ø GENIALLY</button>
            
            <div id="output-zone">
                <p style="color: #a29bfe; font-weight: 900; margin-top: 20px;">‚Üì –°–ö–û–ü–ò–†–£–ô–¢–ï –≠–¢–û–¢ –ö–û–î –ü–û–õ–ù–û–°–¢–¨–Æ ‚Üì</p>
                <div id="code-res"></div>
                <button class="btn-gen" style="background:var(--ok); margin-top:20px;" onclick="copyCode()">–ö–û–ü–ò–†–û–í–ê–¢–¨ –í –ë–£–§–ï–†</button>
            </div>
        </div>
    </div>
</div>

<script>
    function buildGameCode() {
        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª–µ–π
        const data = {
            lvl: document.getElementById('lvl').value,
            lives: document.getElementById('lives').value,
            cats: [
                {n: document.getElementById('c1-n').value, c: document.getElementById('c1-c').value, w: document.getElementById('c1-w').value},
                {n: document.getElementById('c2-n').value, c: document.getElementById('c2-c').value, w: document.getElementById('c2-w').value},
                {n: document.getElementById('c3-n').value, c: document.getElementById('c3-c').value, w: document.getElementById('c3-w').value}
            ]
        };

        // –§–æ—Ä–º–∏—Ä—É–µ–º "–ß–∏—Å—Ç—ã–π –∫–æ–¥ –∏–≥—Ä—ã" (–¥–≤–∏–∂–æ–∫ + –¥–∞–Ω–Ω—ã–µ)
        const gameHtml = `
<!DOCTYPE html>
<html>
<head>
    <style>
        body { margin:0; overflow:hidden; font-family: sans-serif; background: url('https://raw.githubusercontent.com/irinschensmagen-alt/Redaktor-/main/Background_Garden.jpg') center/cover; height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; }
        #word { background:white; padding:20px 50px; border-radius:50px; border:5px solid ${data.cats[0].c}; font-size:30px; font-weight:900; margin-top:200px; }
        #artist { position:absolute; bottom:20px; left:20px; width:150px; transition: 0.5s; }
        #bee { position:absolute; top:20%; left:-100px; width:80px; }
        .btns { position:absolute; bottom:30px; right:30px; display:flex; gap:10px; }
        .btn { padding:15px 30px; border:none; border-radius:10px; color:white; font-weight:bold; cursor:pointer; }
    </style>
</head>
<body>
    <div id="word">–ó–ê–ì–†–£–ó–ö–ê...</div>
    <img id="artist" src="https://raw.githubusercontent.com/irinschensmagen-alt/Redaktor-/main/%D0%92%D0%B5%D1%81%D1%91%D0%BB%D1%8B%D0%B9%20%D1%85%D1%83%D0%B4%D0%BE%D0%B6%D0%BD%D0%B8%D0%BA.png">
    <img id="bee" src="https://raw.githubusercontent.com/irinschensmagen-alt/Redaktor-/main/%D0%97%D0%BB%D0%B0%D1%8F%20%D0%BF%D1%87%D0%B5%D0%BB%D0%B0.png">
    
    <div class="btns">
        <button class="btn" style="background:${data.cats[0].c}" onclick="check(0)">${data.cats[0].n}</button>
        <button class="btn" style="background:${data.cats[1].c}" onclick="check(1)">${data.cats[1].n}</button>
        <button class="btn" style="background:${data.cats[2].c}" onclick="check(2)">${data.cats[2].n}</button>
    </div>

    <script>
        const words = [
            {t: '${data.cats[0].w.split(',')[0].trim()}', a: 0},
            {t: '${data.cats[1].w.split(',')[0].trim()}', a: 1}
        ];
        let current = 0;
        document.getElementById('word').innerText = words[current].t;

        function check(idx) {
            if(idx === words[current].a) {
                alert('–ü—Ä–∞–≤–∏–ª—å–Ω–æ!');
            } else {
                const bee = document.getElementById('bee');
                bee.animate([{left: '-100px'}, {left: '110%'}], {duration: 2000});
                document.getElementById('artist').style.transform = 'translateX(100px)';
                setTimeout(()=>document.getElementById('artist').style.transform='translateX(0)', 2000);
            }
        }
    <\/script>
</body>
</html>`;

        // –í—ã–≤–æ–¥–∏–º –∫–æ–¥ –¥–ª—è Iframe
        const finalCode = `<iframe srcdoc='${gameHtml.replace(/'/g, "&#39;")}' width="100%" height="600" frameborder="0" scrolling="no" allowfullscreen></iframe>`;
        
        document.getElementById('code-res').innerText = finalCode;
        document.getElementById('output-zone').style.display = 'block';
    }

    function copyCode() {
        const text = document.getElementById('code-res').innerText;
        navigator.clipboard.writeText(text);
        alert('–ö–æ–¥ –¥–ª—è Genially —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
    }
</script>

</body>
</html>
